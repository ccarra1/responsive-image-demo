<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Responsive Image Demo (Fixed)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
    <h1>Responsive Image Demo</h1>
    <p>This demo will correctly switch between <code>srcset</code> images based on layout width and screen size.</p>
    <img
        id="responsiveImage"
        src="https://placehold.co/600x400" 
        srcset="https://placehold.co/300x400 300w,
                https://placehold.co/500x400 500w,
                https://placehold.co/700x400 700w,
                https://placehold.co/900x400 900w"
                sizes="(min-width: 300px) 600w, (min-width:500px) 1000w; (min-width:700px) 1400w, 1800w"
            alt="random image from picsum.photos">
    <p id="currentSrcOutput">Loading image...</p>

    <script>
    const img = document.getElementById('responsiveImage');
    const output = document.getElementById('currentSrcOutput');

    function updateCurrentSrc() {
        output.textContent = "Image currently being used: " + img.currentSrc;
    }

    window.addEventListener('resize', updateCurrentSrc);
    window.addEventListener('load', updateCurrentSrc);
    </script>
</body>
</html>